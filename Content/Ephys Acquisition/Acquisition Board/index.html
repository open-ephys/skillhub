
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Acquisition Boards &#8212; SkillHub 0.0.0 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinx_tabs/tabs.css" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Software" href="../Computer/index.html" />
    <link rel="prev" title="Electrophysiology Acquisition" href="../index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../../index.html">
  <img src="../../../_static/oe_logo_name.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../../index.html">
  All Topics
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../Tutorials/index.html">
  Tutorials
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../Contact/disclaimer_terms_conditions.html">
  Terms and Conditions
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/open-ephys/skillhub" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../index.html">
   Electrophysiology Acquisition
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Acquisition Boards
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Computer/index.html">
     Software
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Electrodes/index.html">
     Electrodes
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Electrodes/electrodetypes.html">
       Types of Electrodes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Electrodes/howelectrodeswork.html">
       How do electrodes detect extracellular signals?
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Electrodes/platingelectrodes.html">
       Plating Electrodes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Electrodes/tetrodeintro.html">
       Tetrodes
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Headstages/index.html">
     Headstages
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Headstages/amplifiers.html">
       Amplifiers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Headstages/groundvsreference.html">
       Ground and Reference Pins
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Headstages/intanpinout.html">
       Intan Pinout
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../IO/index.html">
     Inputs/Outputs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Cabling/index.html">
     Connectors and Cables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Troubleshooting/index.html">
     Saturation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../Electronics/index.html">
   Electronics
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Electronics/electronicsrefresher.html">
     Electronics Refresher
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Electronics/impedance.html">
     Impedance
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-does-an-acquisition-board-do">
   What does an acquisition board do?
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-acquisition-board-drives-the-headstage">
     1) The acquisition board drives the headstage
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-acquisition-board-timestamps-data">
     2) The acquisition board timestamps data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-is-inside">
   What is inside
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="acquisition-boards">
<span id="refacboard"></span><h1>Acquisition Boards<a class="headerlink" href="#acquisition-boards" title="Permalink to this headline">#</a></h1>
<section id="what-does-an-acquisition-board-do">
<h2>What does an acquisition board do?<a class="headerlink" href="#what-does-an-acquisition-board-do" title="Permalink to this headline">#</a></h2>
<p>A headstage converts our analog electrode signal to a digital signal, readable by computers, and prevents current being drawn from our cells. Why do we need an acquisition board to collect that data before it reaches our acquisition computer?</p>
<section id="the-acquisition-board-drives-the-headstage">
<h3>1) The acquisition board drives the headstage<a class="headerlink" href="#the-acquisition-board-drives-the-headstage" title="Permalink to this headline">#</a></h3>
<p>The headstage does not just stream data of its own accord, but must be driven by a controller. In the case of the Open Ephys Acquisition Board, the headstage and board communicate via SPI (Serial Peripheral Interface). The FPGA (see below) on the Acquisition Board sends SPI commands to the headstages, and the headstages return the values of their channels. Each sampling loop contains 35 cycles and is sent to all attached headstages simultaneously. The first 32 cycles request the values of each neuronal input channel on the headstage. The final 3 are used to configure the headstage, read the auxiliary channels (usually the accelerometer on the headstage), and receive incoming digital or analog signals. Each 35-channel loop results in a single sample of data, which contains the value of all 32 channels as well as the 8 digital and analog inputs. The rate at which the board sends these 35-channel loops is the acquisition frequency of the system.</p>
</section>
<section id="the-acquisition-board-timestamps-data">
<h3>2) The acquisition board timestamps data<a class="headerlink" href="#the-acquisition-board-timestamps-data" title="Permalink to this headline">#</a></h3>
<p>We need to know exactly when each signal was acquired in order to organise and interpret the data. Each sample acquired as described above is timestamped with a unique sample counter by the FPGA. This data will be read by the acquisition software in chunks of samples, transmitted via USB. Data from all headstages, as well as incoming digital and analog signals, are collected at the same time and given the same timestamp. If it’s not clear why this is important, read our section on synchronization :ref:refsync.</p>
</section>
</section>
<section id="what-is-inside">
<h2>What is inside<a class="headerlink" href="#what-is-inside" title="Permalink to this headline">#</a></h2>
<p>Recording electrophysiology requires high channel counts and high-frequency acquisition. This relies on the FPGA (Field Programmable Gate Array) at the heart of the Open Ephys Acquisition Board.</p>
<a class="reference internal image-reference" href="../../../_images/ac_board_inside.png"><img alt="../../../_images/ac_board_inside.png" class="align-center" src="../../../_images/ac_board_inside.png" style="width: 464.09999999999997px; height: 465.49999999999994px;" /></a>
<p>Because neuronal action potentials have a duration of around 1 ms, we need to acquire at a very high frequency (in the 10-30KHz range) in order to detect them. The acquisition frequency of the system is set by the rate at which the acquisition controller can sends commands. Acquiring high channel counts at these high sampling speeds places heavy requirements on the hardware of the acquisition system. It can not be achieved, for instance, using classic microcontroller units, because they are sequential; they can only execute one command at a time. Though they could, in theory, perform an approximation of multiple, synchronized actions by running steps sequentially at <em>very</em> high speed, this processor speed is limited by power and thermal considerations (S. H. Fuller and L. I. Millett, Computer, 2011).</p>
<p>Instead, we rely on parallel computing, in which computations can be run simultaneously and separately. Though there are various types of parallel devices, few are suitable for acquisition needs. Multicore processors lack enough parallelism, as they can only perform one simultaneous action per core. GPUs can run hundreds of parallel operations, but while they are widely used for processing they lack the hardware resources needed for driving sensors. Field-Programmable Gate Arrays (FPGAs) are integrated circuits featuring configurable digital electronics. By uploading a configuration file called a ‘bit file’, FPGAs can be configured to act as any digital circuit. The circuits configured into an FPGA can run in parallel and independently. This allows separate and simultaneous acquisition, packing and transmission of data.</p>
<p><em>Adapted from the PhD Thesis of Aarón Cuevas López</em></p>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Electrophysiology Acquisition</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../Computer/index.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Software</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2020-2022, Open Ephys &amp; Contributors.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>